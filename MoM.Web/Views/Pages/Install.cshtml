@{
    ViewBag.Title = "Install MoM";
}
<div class="container-fluid margin-bottom">
    <div class="row">
        <div class="col-sm-2 col-sm-offset-1">
            <img src="~/site/momlogo.png" srcset="~/site/momlogo.svg 1x" class="navbar-brand" alt="EasyModules.NET Logo" width="152" height="150">
        </div>
        <div class="col-sm-6">
            <h1>Install MoM</h1>
            <p>Please follow these steps below in order to setup you new website.</p>
            <progress class="progress progress-success" [value]="installStepsCompleted" max="5"></progress>
            <div class="text-sm-center"><span>Progress {{installStepsCompleted/5*100}}%</span></div>
        </div>
        <div class="col-sm-1"></div>
    </div>
</div>
<div class="container-fluid">
    <div class="row">
        <div class="col-sm-11 col-sm-offset-1">
                <tabset type="pills">
                    <tab>
                        <template tabHeading>
                            <i class="fa fa-database fa-2x mom-icon"></i>
                            <span>Database</span>
                            <i *ngIf="stepOneComplete" class="fa fa-check-circle-o fa-2x mom-icon" style="color:#5cb85c"></i>
                        </template>
                        <div class="container-fluid margin-top">
                            <div class="row">
                                <div class="col-sm-8 col-sm-offset-1">
                                    <form *ngIf="!isLoading" (ngSubmit)="onSaveDatabaseSettings()" #postForm="ngForm">
                                        <div class="form-group row">
                                            <label for="inputServer" class="col-sm-2 form-control-label">Server</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" [(ngModel)]="connectionstring.server" required id="inputServer" ngControl="server" #server="ngForm" placeholder="Server">
                                                <div [hidden]="server.valid || server.pristine" class="alert alert-danger">Server is required</div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="inputDatabase" class="col-sm-2 form-control-label">Database</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" [(ngModel)]="connectionstring.database" required id="inputDatabase" ngControl="database" #database="ngForm" placeholder="Database">
                                                <div [hidden]="database.valid || database.pristine" class="alert alert-danger">Database is required</div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-sm-2">
                                                <label>Authentication</label>
                                            </div>
                                            <div class="col-sm-10 col-sm-offset-2">
                                                <div class="btn-group">
                                                    <label btnRadio="sql" class="btn btn-primary"
                                                            [(ngModel)]="connectionAuthenticationModel">
                                                        Sql Server
                                                    </label>
                                                    <label btnRadio="windows" class="btn btn-primary"
                                                           [(ngModel)]="connectionAuthenticationModel">
                                                        Windows
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="form-group row" *ngIf="connectionAuthenticationModel === 'sql'">
                                                <label for="inputUsername" class="col-sm-2 form-control-label">Username</label>
                                                <div class="col-sm-10">
                                                    <input type="text" class="form-control" [(ngModel)]="connectionstring.username" required id="inputUsername" ngControl="username" #username="ngForm" placeholder="Username">
                                                    <div [hidden]="username.valid || username.pristine" class="alert alert-danger">Username is required</div>
                                                </div>
                                            </div>
                                            <div class="form-group row" *ngIf="connectionAuthenticationModel === 'sql'">
                                                <label for="inputPassword" class="col-sm-2 form-control-label">Password</label>
                                                <div class="col-sm-10">
                                                    <input type="password" class="form-control" [(ngModel)]="connectionstring.password" required id="inputPassword" ngControl="password" #password="ngForm" placeholder="Password">
                                                    <div [hidden]="password.valid || password.pristine" class="alert alert-danger">Password is required</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <div class="col-sm-offset-2 col-sm-10 text-sm-right">
                                                <button type="submit" class="btn btn-success" [disabled]="!postForm.form.valid">Submit</button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </tab>
                    <tab [disabled]="installStepsCompleted < 1" [active]="installStepsCompleted === 1">
                        <template tabHeading>
                            <i class="fa fa-user-secret fa-2x mom-icon"></i>
                            <span>Admin account</span>
                        </template>
                        <div class="container-fluid margin-top-small">
                            <div class="row">
                                <div class="col-sm-11 col-sm-offset-1">
                                    @*<form *ngIf="!isLoading" (ngSubmit)="onAdminAccountSave()" #postForm="ngForm">
                                        <div class="form-group row">
                                            <label for="inputAdminUsername" class="col-sm-2 form-control-label">Username</label>
                                            <div class="col-sm-10">
                                                <input type="text" class="form-control" [(ngModel)]="siteSetting.server" required id="inputAdminUsername" ngControl="adminusername" #adminusername="ngForm" placeholder="AdminUsername">
                                                <div [hidden]="adminusername.valid || adminusername.pristine" class="alert alert-danger">Username is required</div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="inputServer" class="col-sm-2 form-control-label">Password</label>
                                            <div class="col-sm-10">
                                                <input type="password" class="form-control" [(ngModel)]="connectionstring.server" required id="inputServer" ngControl="server" #server="ngForm" placeholder="Server">
                                                <div [hidden]="server.valid || server.pristine" class="alert alert-danger">Server is required</div>
                                            </div>
                                        </div>
                                        <div class="form-group row">
                                            <label for="inputServer" class="col-sm-2 form-control-label">Confirm password</label>
                                            <div class="col-sm-10">
                                                <input type="password" class="form-control" [(ngModel)]="connectionstring.server" required id="inputServer" ngControl="server" #server="ngForm" placeholder="Server">
                                                <div [hidden]="server.valid || server.pristine" class="alert alert-danger">Server is required</div>
                                            </div>
                                        </div>
                                    </form>*@
                                </div>
                            </div>
                        </div>
                    </tab>
                    <tab [disabled]="installStepsCompleted < 2" [active]="installStepsCompleted === 2">
                        <template tabHeading>
                            <i class="fa fa-users fa-2x mom-icon"></i>
                            <span>Social accounts</span>
                        </template>
                        Configure Mail and SMS(optional) content
                    </tab>
                    <tab [disabled]="installStepsCompleted < 3" [active]="installStepsCompleted === 3">
                        <template tabHeading>
                            <i class="fa fa-envelope-o fa-2x mom-icon"></i>
                            <span>Mail</span>
                        </template>
                        Select modules content
                    </tab>
                    <tab [disabled]="installStepsCompleted < 4" [active]="installStepsCompleted === 4">
                        <template tabHeading>
                            <i class="fa fa-cubes fa-2x mom-icon"></i>
                            <span>Modules</span>
                        </template>
                        Social accounts content
                    </tab>
                </tabset>
</div>
    </div>
</div>
